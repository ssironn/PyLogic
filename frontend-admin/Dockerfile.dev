# PyLogic Admin Frontend - Development Dockerfile
FROM node:20-alpine

WORKDIR /app

COPY package*.json ./

RUN npm install

COPY next.config.js ./
COPY tsconfig.json ./
COPY .eslintrc.json ./

COPY . .

ENV NODE_ENV=development
ENV WATCHPACK_POLLING=true
ENV CHOKIDAR_USEPOLLING=true

ARG NEXT_PUBLIC_API_URL=http://localhost:9000
ENV NEXT_PUBLIC_API_URL=$NEXT_PUBLIC_API_URL

EXPOSE 3001

CMD ["npm", "run", "dev"]
